(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();const m=64,u=32,d=[];for(let t=0;t<u;t++){d[t]=[];for(let n=0;n<m;n++)d[t][n]=" "}const z=".:-=+*#%@@",A=[[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],S=[[0,1,2,3],[4,5,6,7],[0,1,5,4],[2,3,7,6],[0,3,7,4],[1,2,6,5]];let g=0,M=0,p=0;function Z(t,n){const c=Math.cos(n),o=Math.sin(n);return{x:t.x,y:t.y*c-t.z*o,z:t.y*o+t.z*c}}function w(t,n){const c=Math.cos(n),o=Math.sin(n);return{x:t.x*c+t.z*o,y:t.y,z:-t.x*o+t.z*c}}function E(t,n){const c=Math.cos(n),o=Math.sin(n);return{x:t.x*c-t.y*o,y:t.x*o+t.y*c,z:t.z}}function H(t){const o=40/(3+t.z);return{x:Math.floor(t.x*o+m/2),y:Math.floor(t.y*o*.5+u/2)}}function N(t){const n={x:t[1].x-t[0].x,y:t[1].y-t[0].y,z:t[1].z-t[0].z},c={x:t[2].x-t[0].x,y:t[2].y-t[0].y,z:t[2].z-t[0].z},o={x:n.y*c.z-n.z*c.y,y:n.z*c.x-n.x*c.z,z:n.x*c.y-n.y*c.x},e=Math.sqrt(o.x*o.x+o.y*o.y+o.z*o.z);return{x:o.x/e,y:o.y/e,z:o.z/e}}function Y(t,n){return t.x*n.x+t.y*n.y+t.z*n.z}function j(t,n){if(t.length<3)return;let c=u,o=0;for(const e of t)c=Math.min(c,e.y),o=Math.max(o,e.y);c=Math.max(0,Math.floor(c)),o=Math.min(u-1,Math.ceil(o));for(let e=c;e<=o;e++){const r=[];for(let s=0;s<t.length;s++){const l=t[s],y=t[(s+1)%t.length];if(l.y<=e&&y.y>e||y.y<=e&&l.y>e){const a=(e-l.y)/(y.y-l.y),x=l.x+a*(y.x-l.x);r.push(x)}}r.sort((s,l)=>s-l);for(let s=0;s<r.length;s+=2)if(s+1<r.length){const l=Math.max(0,Math.floor(r[s])),y=Math.min(m-1,Math.ceil(r[s+1]));for(let a=l;a<=y;a++)d[e][a]=n}}}function C(){for(let t=0;t<u;t++)for(let n=0;n<m;n++)d[t][n]=" "}const D=document.getElementById("canvas");function F(){C();const t=A.map(o=>{let e={x:o[0],y:o[1],z:o[2]};return e=Z(e,g),e=w(e,M),e=E(e,p),e}),n=S.map((o,e)=>{const r=o.map(f=>t[f]),s=N(r),l=r.map(f=>H(f)),y={x:r.reduce((f,i)=>f+i.x,0)/r.length,y:r.reduce((f,i)=>f+i.y,0)/r.length,z:r.reduce((f,i)=>f+i.z,0)/r.length},a={x:-y.x,y:-y.y,z:3-y.z},x=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=x,a.y/=x,a.z/=x;let h=Math.abs(Y(s,a));h=Math.max(0,Math.min(1,h)),h=Math.pow(h,.7);const O=Math.floor(h*(z.length-1)),b=z[O],q=r.reduce((f,i)=>f+i.z,0)/r.length;return{projected:l,char:b,avgZ:q,normal:s}});n.sort((o,e)=>o.avgZ-e.avgZ);for(const o of n)j(o.projected,o.char);g+=.01,M+=.015,p+=.008;let c="";for(let o=0;o<u;o++){for(let e=0;e<m;e++)c+=d[o][e];c+=`
`}D.textContent=c}let I=0;const T=60,P=1e3/T;function L(t){requestAnimationFrame(L);const n=t-I;n>=P&&(I=t-n%P,F())}F();requestAnimationFrame(L);
